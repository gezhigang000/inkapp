# 产品设计文档

## 产品定位

Ink 是一款面向内容创作者的 AI 写作桌面应用，专注微信公众号场景。通过模板化创作 + Agent 深度调研，帮助用户高效产出专业文章，一键发布到公众号。

## 目标用户

| 用户类型 | 核心需求 |
|---------|---------|
| 公众号运营者 | 日常内容生产效率，定时发布 |
| 行业分析师 | 深度调研报告，数据驱动 |
| 技术博主 | 技术教程、产品测评 |
| 企业内容团队 | 批量内容生产，品牌一致性 |

## 核心场景

### 场景 1：模板化快速创作
用户选择模板（行业日报/技术教程/产品测评等）→ 输入主题 → AI 自动搜索+生成 → 预览 → 一键发布

### 场景 2：Agent 深度调研
用户选择深度研究模板 → 输入研究课题 → Agent 多轮搜索+分析+写作 → 生成长文 → 发布

### 场景 3：数据分析报告
用户上传 Excel/CSV → Agent 用 Python 分析数据 → 生成图表+报告 → 发布

### 场景 4：文档翻译
用户上传 Word/PDF/PPT → 保持原格式翻译 → 下载翻译文件

### 场景 5：视频内容转文章
用户输入 YouTube 链接 → 提取字幕+分析 → 生成深度解读文章

## 功能清单

### 内容创作
- [x] 10+ 内置模板（行业日报、深度研究、技术教程、产品测评、数据分析、PPT 制作、文档翻译、视频分析等）
- [x] 自定义模板（用户可创建/编辑/删除模板，自定义提示词）
- [x] Agent 模式（多轮工具调用：web_search / run_python / read_file / write_file）
- [x] 5 种排版样式（模块式/章节式/卡片式/叙事式/自定义）
- [x] 文件上传（Excel/Word/PDF/PPT/CSV/TXT/MD，自动提取文本作为上下文）
- [x] 长文自动拆分（超过微信字数限制时自动分篇）

### 封面图
- [x] Pillow 自动生成 900×383 封面图
- [x] 色调可选：随机/深色/浅色/彩色
- [x] 图案可选：随机/几何/科技/波纹
- [x] 标题可自定义（留空用文章标题），可隐藏
- [x] 署名可自定义

### 多模型支持
- [x] DeepSeek
- [x] 智谱 GLM
- [x] 豆包 (Doubao)
- [x] Kimi (Moonshot)
- [x] OpenAI
- [x] 应用内切换，带 API Key 验证

### 搜索引擎
- [x] Tavily API（推荐）
- [x] SerpAPI（备选）
- [x] auto 模式自动降级

### 发布
- [x] 微信公众号草稿箱推送
- [x] 封面图+文章+配图自动处理
- [x] 文章内图片自动上传到微信 CDN
- [x] 二维码自动追加

### 文章管理
- [x] 历史文章浏览
- [x] 搜索
- [x] 删除
- [x] 重新发布到微信

### 其他
- [x] 日志查看器
- [x] OSS 图床配置（阿里云）
- [x] 跨平台支持（macOS + Windows）

## 界面布局

```
┌─────────────────────────────────────────────┐
│  侧边栏          │  主内容区                  │
│                  │                           │
│  🏠 创作         │  (根据路由切换)              │
│  📄 文章         │                           │
│  ⚙️ 模型         │  - Home: 模板卡片网格       │
│  🔧 设置         │  - Create: 输入+预览        │
│  📋 日志         │  - Articles: 文章列表       │
│                  │  - Models: 模型配置         │
│                  │  - Settings: 应用设置       │
│                  │  - Logs: 日志查看           │
└─────────────────────────────────────────────┘
```

## 支持平台

| 平台 | 状态 |
|------|------|
| macOS (Apple Silicon) | ✅ 已支持 |
| Windows (x64) | ✅ 已支持 |
| Linux | ⏳ 计划中 |
